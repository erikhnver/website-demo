<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sportverein Esperke</title>
    <link rel="stylesheet" href="style_home.css">
    <link rel="icon" type="image/png" href="SVE_Logo.png" />
</head>

<body>
    <header>
        <nav>
            <div class="logo">
                <img src="SVE_Logo.png" alt="SV Esperke Logo">
            </div>
            <ul class="nav-links">
                <li><a href="home.html"><h3>Startseite</h3></a></li>
                <li><a href="ueberuns.html"><h3>Über uns</h3></a></li>
    
                <!-- Dropdown Fußball -->
                <li class="dropdown">
                    <a href="fussball.html"><h3>Fußball <span class="arrow-down">▼</span></h3></a>
                    <ul class="dropdown-content">
                        <li><a href="herren.html">Herren</a></li>
                        <li><a href="herren2.html">2. Herren</a></li>
                        <li><a href="jugend.html">Jugend</a></li>
                        <li><a href="herrenue32.html">Herren Ü32</a></li>
                        <li><a href="herrenue40.html">Herren Ü40</a></li>
                    </ul>
                </li>
    
                <li><a href="termine.html"><h3>Termine</h3></a></li>
                <li><a href="kontakt.html"><h3>Kontakt</h3></a></li>
    
                <!-- Hamburger-Menü direkt mit Dropdown -->
                <li class="dropdown">
                    <div class="hamburger hamburger-icon">
                        <div class="bar"></div>
                        <div class="bar"></div>
                        <div class="bar"></div>
                    </div>
                    <ul class="dropdown-content">
                        <li><a href="verein.html">Verein</a></li>
                        <li class="dropdown-nested" onclick="toggleSubmenu(this)">
                            <a href="javascript:void(0)" class="nested-toggle">
                                <span>Turnen</span>
                                <span class="arrow-down">▼</span>
                            </a>
                            <ul class="nested-submenu">
                                <li><a href="kinderturnen.html">Kinderturnen</a></li>
                                <li><a href="damenturnen.html">Damenturnen</a></li>
                            </ul>  
                        </li>
                        <li><a href="funlauf.html">Funlauf</a></li>
                        <li><a href="vorstand.html">Vorstand</a></li>
                        <li><a href="sportgruppe.html">Sportgruppe</a></li>
                    </ul>
                </li>
            </ul>
        </nav>
    </header>
    <div class="startseite">
        <div class="home-container">
            <!-- Logo und Hero-Bild -->
            <div class="hero">
                <img src="SVE_logo.png" alt="Vereinslogo" class="logo">
                <h1>Unser Herz, unser Verein</h1>            
                <img src="SVE/sportheim.png" alt="Sportheim" class="hero-image">
            </div>

            <!-- Willkommen in Esperke -->
            <div class="welcome">
                <p>Esperke – das schöne Dorf im Norden</p>
            </div>

            <!-- Slogan -->
            <div class="slogan">
                <h2>TRADITION UND IMMER EIN TREFFER</h2>
            </div>

            <hr style="margin: 30px 0;">

            <!-- Unser Verein Info -->
            <div class="verein-info">
                <h2>UNSER VEREIN</h2>
                <p>Für jeden, der in seiner Freizeit mehr Bewegung möchte, ist der SV Esperke der richtige Verein. Denn Fußball steht bei uns im Mittelpunkt. Wir suchen ständig ambitionierte Spieler aller Altersklassen, die mit dem Ball umgehen können und Spaß daran haben, auf dem Rasen zu stehen.</p>
                <br>
                <p>Du hast Lust auf Sport und Fußball? Es reicht dir nicht, einfach nur die Sportschau zu sehen? Du möchtest dich bewegen und selbst über jedes deiner Tore jubeln? Dann komm zum SV Esperke! Bei einer Mitgliedschaft kannst du dir sicher sein, dass du nicht nur Spaß am Spiel, sondern auch neue Freunde finden wirst. Mit unseren starken und ambitionierten Teams sind wir in der Region bekannt und beliebt. Auch wenn du uns abseits des Sports unterstützen willst, freuen wir uns über deine Mitgliedschaft und dein Engagement.</p>
            </div>

            <hr style="margin: 30px 0;">

            <!-- Beregnungsanlage Projekt -->
            <div class="projekt">
                <img src="SVE/kreisligameister.png" alt="Beregnungssystem" class="news-image">
               <h3>SVE ist Kreisligameister und steigt in die Bezirksliga auf</h3>
                <p>Nach dem sensationellen Aufstieg im letzten Jahr, gelang dem SVE ebenfalls sensationell der Durchmarsch durch die Kreisliga und wird nun in der kommenden Saison in der Bezirksliga antreten. Was für eine Saison !!!</p>
            </div>

            <hr style="margin: 30px 0;">

            <!-- Termine -->
            <div class="termine">
                <h2>Termine 2025</h2>
                <ul id="termine-liste"></ul>
            </div>

            <script>
                async function ladeTermine() {
                    const url = "https://docs.google.com/spreadsheets/d/e/2PACX-1vSbrHTO2TKHfbkTiJzHj4Zg3yoURRR82-U8zxpPKgRC0KeWtttazLbfG9xQ49gStAntJJrcThYWRtdd/pub?output=csv";
                    const response = await fetch(url);
                    const text = await response.text();

                    // CSV-Zeilen (erste Zeile = Überschrift)
                    const zeilen = text.trim().split("\n").slice(1);
                    const heute = new Date();
                    heute.setHours(0, 0, 0, 0); // Uhrzeit auf 0 setzen zum Vergleich
                    const termine = [];

                    zeilen.forEach(zeile => {
                        const [datumStr, titel, uhrzeit, kategorie] = zeile.split(",");

                        // Datum in Tag und Monatsname zerlegen
                        const parts = datumStr.trim().split(".");
                        let tag = parseInt(parts[0]);
                        let monatName = parts[1].trim();

                        const monate = {
                            "Januar": 0, "Februar": 1, "März": 2, "April": 3, "Mai": 4, "Juni": 5,
                            "Juli": 6, "August": 7, "September": 8, "Oktober": 9, "November": 10, "Dezember": 11
                        };

                        let aktuellesJahr = new Date().getFullYear();
                        let aktuellerMonat = new Date().getMonth();

                        // Falls Termin-Monat schon vorbei ist, Jahr + 1 nehmen
                        let jahr = aktuellesJahr;
                        if (monate[monatName] < aktuellerMonat) {
                            jahr = aktuellesJahr + 1;
                        }

                        // Date-Objekt erstellen
                        let datum = new Date(jahr, monate[monatName], tag);

                        // Nur zukünftige Termine
                        if (datum >= heute) {
                            let datumAnzeige = `${tag}. ${monatName} ${jahr}`;
                            termine.push({ datum, datumStr: datumAnzeige, uhrzeit, titel, kategorie });
                        }
                    });

                    // Nach Datum sortieren
                    termine.sort((a, b) => a.datum - b.datum);

                    // Nur nächste X Termine anzeigen
                    const maxTermine = 8;
                    const anzuzeigendeTermine = termine.slice(0, maxTermine);

                    // HTML erstellen
                    let html = "";
                    anzuzeigendeTermine.forEach(t => {
                        html += `<li><strong>${t.datumStr}:</strong> ${t.titel}${t.uhrzeit ? " " + t.uhrzeit : ""}</li>`;
                    });

                    // Falls keine Termine mehr übrig
                    if (anzuzeigendeTermine.length === 0) {
                        html = "<li>Keine anstehenden Termine</li>";
                    }
                    
                    document.getElementById("termine-liste").innerHTML = html;
                }

                ladeTermine();
            </script>

            <hr style="margin: 30px 0;">

            <!-- Funlauf-Plakat -->
            <div class="funlauf">
                <img src="Funlauf/Funlauf25.png" alt="Funlauf Plakat">
                <div class="funlauf-anmeldung">
                    <a href="https://my.raceresult.com/337370/" target="_blank" class="anmelde-btn">Online anmelden</a>
                    <p class="alternativ-anmeldung">
                        Alternativ per E-Mail: <strong>lapke@gmx.de</strong>
                    </p>
                </div>
            </div>

            <hr style="margin: 30px 0;">

            <!-- Gruppenfoto & Social -->
            <div class="abschluss">
                <img src="SVE/helfertunier.png" alt="Gruppenbild" class="gruppenbildhelfer">
                <div class="socials">
                    <a href="https://www.facebook.com/people/SV-Esperke-1929-ev/100057281987244/" target="_blank">Facebook</a>
                    <a href="https://www.instagram.com/svesperke" target="_blank">Instagram</a>
                    <a href="https://www.fussball.de/verein/sv-esperke-niedersachsen/-/id/00ES8GN78S00001PVV0AG08LVUPGND5I#!/" target="_blank">fussball.de</a>
                </div>
            </div>
        </div>
    </div>
    <footer>
        <p>
            SV Esperke |
            <a href="impressum.html">Impressum</a> |
            <a href="datenschutz.html">Datenschutz</a>
        </p>
    </footer>
    <script>
        function toggleSubmenu(element) {
            element.classList.toggle('active');
        }
    </script>      
</body>
</html>
